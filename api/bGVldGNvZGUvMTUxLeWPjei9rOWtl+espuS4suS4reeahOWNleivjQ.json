{"title":"151-反转字符串中的单词","date":"2023-02-05T11:03:24.000Z","date_formatted":{"ll":"Feb 5, 2023","L":"02/05/2023","MM-DD":"02-05"},"updated":"2023-03-31T11:45:37.366Z","content":"<p><a href=\"leetcode\"><strong>【目录】</strong></a> | <a href=\"https://leetcode.cn/problems/reverse-words-in-a-string/\" target=\"_blank\">力扣链接</a> | <a href=\"https://leetcode.cn/problems/reverse-words-in-a-string/solution/151fan-zhuan-zi-fu-chuan-li-de-dan-ci-by-arjw/\" target=\"_blank\">力扣题解链接</a></p>\n<h1 id=\"题目描述\">题目描述<a title=\"#题目描述\" href=\"#题目描述\"></a></h1>\n<p>给你一个字符串 s ，请你反转字符串中 <strong>单词</strong> 的顺序。</p>\n<p><strong>单词</strong> 是由非空格字符组成的字符串。s 中使用至少一个空格将字符串中的 <strong>单词</strong> 分隔开。</p>\n<p>返回 <strong>单词</strong> 顺序颠倒且 <strong>单词</strong> 之间用单个空格连接的结果字符串。</p>\n<p><strong>注意</strong>：输入字符串 s中可能会存在前导空格、尾随空格或者单词间的多个空格。返回的结果字符串中，单词间应当仅用单个空格分隔，且不包含任何额外的空格。</p>\n<p>示例 1：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：s = &quot;the sky is blue&quot;</span><br><span class=\"line\">输出：&quot;blue is sky the&quot;</span><br></pre></td></tr></table></figure>\n<p>示例 2：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：s = &quot;  hello world  &quot;</span><br><span class=\"line\">输出：&quot;world hello&quot;</span><br><span class=\"line\">解释：反转后的字符串中不能存在前导空格和尾随空格。</span><br></pre></td></tr></table></figure>\n<p>示例 3：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：s = &quot;a good   example&quot;</span><br><span class=\"line\">输出：&quot;example good a&quot;</span><br><span class=\"line\">解释：如果两个单词间有多余的空格，反转后的字符串需要将单词间的空格减少到仅有一个。</span><br></pre></td></tr></table></figure>\n<p>提示：</p>\n<ul>\n<li>1 &lt;= s.length &lt;= 104</li>\n<li>s 包含英文大小写字母、数字和空格 ’ ’</li>\n<li>s 中 <strong>至少存在一个</strong> 单词</li>\n</ul>\n<p><strong>进阶</strong>：如果字符串在你使用的编程语言中是一种可变数据类型，请尝试使用 <code>O(1)</code> 额外空间复杂度的 <strong>原地</strong> 解法。</p>\n<h1 id=\"题解\">题解<a title=\"#题解\" href=\"#题解\"></a></h1>\n<h3 id=\"解题思路\">解题思路<a title=\"#解题思路\" href=\"#解题思路\"></a></h3>\n<ul>\n<li>\n<p>要将字符串的每一个单词都反转，只需要将整个字符串都反转过来，再将每个单词反转就可以了。又因为字符串中还可能有多余的空格需要移除，所以这道题总共分为三步：</p>\n<ol>\n<li>移除多余的空格</li>\n<li>反转整个字符串</li>\n<li>反转每一个单词</li>\n</ol>\n</li>\n<li>\n<p>用 “ the sky  is   blue  ” 举例说明，源字符串长度为 21。</p>\n<ol>\n<li>移除多余的空格：“the sky is blue”（此时字符串的长度变为了 15）</li>\n<li>反转整个字符串：“eulb si yks eht”</li>\n<li>反转每一个单词：“blue is sky the”</li>\n</ol>\n</li>\n<li>\n<p>因为可能有去除空格的操作，所以字符串的长度只可能变短不可能变长，所以可以直接在原字符串上进行操作，这样就不用重新定义一个字符串，空间复杂度达到了 O(1)。</p>\n</li>\n<li>\n<p>另外，需要重点注意一下「移除多余的空格」的操作，最直观的想法就是遍历字符串，遇到空格就执行删除操作,但是，删除数组元素的操作本身最优也就是 O(n) 的时间复杂度，再套上遍历总的时间复杂度就是 O(n<sup>2</sup>) 了。所以使用双指针法来移除空格，这样时间复杂度就可以降到 $O(n)$ 了。这样时间复杂度 O(n)，空间复杂度 O(1)，基本就把这道题做到极致了。</p>\n</li>\n<li>\n<p>移除元素和反转字符串的操作可以参考我之前的题解：</p>\n<ul>\n<li><a href=\"https://leetcode.cn/problems/remove-element/solution/27-by-taisui-heg8/\" target=\"_blank\">27.移除元素</a></li>\n<li><a href=\"https://leetcode.cn/problems/reverse-string/solution/344fan-zhuan-zi-fu-chuan-by-taisui-ync8/\" target=\"_blank\">344.反转字符串</a></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"代码\">代码<a title=\"#代码\" href=\"#代码\"></a></h3>\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//反转字符串函数</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">reverse</span><span class=\"params\">(<span class=\"type\">char</span>* s, <span class=\"type\">int</span> start, <span class=\"type\">int</span> end)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (start &lt; end) &#123;</span><br><span class=\"line\">        <span class=\"type\">char</span> temp = s[start];</span><br><span class=\"line\">        s[start++] = s[end];</span><br><span class=\"line\">        s[end--] = temp;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">char</span> * <span class=\"title function_\">reverseWords</span><span class=\"params\">(<span class=\"type\">char</span> * s)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 1. 移除多余空格</span></span><br><span class=\"line\">    <span class=\"type\">int</span> len = <span class=\"built_in\">strlen</span>(s);</span><br><span class=\"line\">    <span class=\"type\">int</span> fast = <span class=\"number\">0</span>, slow = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"comment\">// 移除字符串之前的空格</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (s[fast] == <span class=\"string\">&#x27; &#x27;</span>) &#123;</span><br><span class=\"line\">        fast++;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// 移除单词之间多余的空格</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (fast &lt; len - <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (s[fast] == <span class=\"string\">&#x27; &#x27;</span> &amp;&amp; s[fast + <span class=\"number\">1</span>] == <span class=\"string\">&#x27; &#x27;</span>) &#123;</span><br><span class=\"line\">            fast++;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            s[slow++] = s[fast++];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// 移除字符串后面的空格</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (s[fast] == <span class=\"string\">&#x27; &#x27;</span>) &#123;</span><br><span class=\"line\">        s[slow] = <span class=\"string\">&#x27;\\0&#x27;</span>;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        s[slow++] = s[fast];</span><br><span class=\"line\">        s[slow] = <span class=\"string\">&#x27;\\0&#x27;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 2. 反转整个字符串</span></span><br><span class=\"line\">    reverse(s, <span class=\"number\">0</span>, slow - <span class=\"number\">1</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 3. 反转每一个单词</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; slow; i++) &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> j = i;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (j &lt; slow &amp;&amp; s[j] != <span class=\"string\">&#x27; &#x27;</span>) &#123;</span><br><span class=\"line\">            j++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        reverse(s, i, j - <span class=\"number\">1</span>);</span><br><span class=\"line\">        i = j;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> s;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"复杂度分析\">复杂度分析<a title=\"#复杂度分析\" href=\"#复杂度分析\"></a></h3>\n<p>时间复杂度：O(n)</p>\n<p>空间复杂度：O(1)</p>\n<h1 id=\"总结\">总结<a title=\"#总结\" href=\"#总结\"></a></h1>\n<p>还是挺难的，乍一看没有头绪，看了之前的题解才想起思路了，同时也发现之前的题解写的稀烂。做的过程也磕磕巴巴的，但总归是搞定了。</p>\n","link":"leetcode/151-反转字符串中的单词","comments":true,"plink":"https://hs-zhangsan.github.io/leetcode/151-反转字符串中的单词/","toc":[{"id":"题目描述","title":"题目描述","index":"1"},{"id":"题解","title":"题解","index":"2"},{"id":"总结","title":"总结","index":"3"}],"reward":true,"copyright":{"published":"February 5, 2023","updated":"March 31, 2023","author":"zhangsan","link":"<a href=\"https://hs-zhangsan.github.io/leetcode/151-反转字符串中的单词/\" title=\"151-反转字符串中的单词\">https://hs-zhangsan.github.io/leetcode/151-反转字符串中的单词/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"}}