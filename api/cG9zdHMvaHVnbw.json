{"title":"Hugo & GithubPages.md","date":"2023-04-08T19:54:12.000Z","date_formatted":{"ll":"Apr 8, 2023","L":"04/08/2023","MM-DD":"04-08"},"link":"posts/hugo","comments":true,"tags":["博客"],"categories":["博客"],"updated":"2023-04-11T12:04:18.141Z","content":"<h1 id=\"hugo-&amp;-centos-建站教程\">Hugo &amp; CentOS 建站教程<a title=\"#hugo-&amp;-centos-建站教程\" href=\"#hugo-&amp;-centos-建站教程\"></a></h1>\n<h2 id=\"0、步骤\">0、步骤<a title=\"#0、步骤\" href=\"#0、步骤\"></a></h2>\n<p>1、<a href=\"#1%E5%AE%89%E8%A3%85Git\">安装Git</a></p>\n<p>2、<a href=\"#2%E5%AE%89%E8%A3%85Go\">安装Go</a></p>\n<p>3、<a href=\"#3%E5%AE%89%E8%A3%85Hugo\">安装Hugo</a></p>\n<p>4、<a href=\"#4%E7%94%A8Hugo%E5%BB%BA%E7%AB%99\">用Hugo建站</a></p>\n<h2 id=\"1、安装git\">1、安装Git<a title=\"#1、安装git\" href=\"#1、安装git\"></a></h2>\n<ol>\n<li>通过运行以下命令更新系统包列表：</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum update</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>通过运行以下命令安装版本控制系统 Git：</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum install git</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>通过运行以下命令查看 Git 版本，正常输出则说明安装成功：</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git --version</span><br></pre></td></tr></table></figure>\n<h2 id=\"2、安装go\">2、安装Go<a title=\"#2、安装go\" href=\"#2、安装go\"></a></h2>\n<ol>\n<li>从GO语言官方网站下载对应的二进制存档包：</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo wget https://dl.google.com/go/go1.20.3.linux-amd64.tar.gz</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>下载后将其解压缩到 <code>/usr/local</code>，将自动在其中创建一个Go树 <code>/usr/local/go</code></li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tar -C /usr/local -xzf go1.20.3.linux-amd64.tar.gz</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>配置GO语言系统环境变量：</li>\n</ol>\n<p>通过运行以下命令编辑profile文件：通过运行以下命令编辑profile文件：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim /etc/profile </span><br></pre></td></tr></table></figure>\n<p>【i】进入编辑模式，在文件最后添加如下内容 ：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#go setting</span><br><span class=\"line\">export GOROOT=/usr/local/go</span><br><span class=\"line\">export GOPATH=/usr/local/gopath</span><br><span class=\"line\">export PATH=$PATH:$GOROOT/bin</span><br></pre></td></tr></table></figure>\n<p>【Esc】退出编辑模式，再输入 “:wq” 保存并退出。</p>\n<p>然后通过运行以下命令使 profile 文件现在生效：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">source /etc/profile</span><br></pre></td></tr></table></figure>\n<ol start=\"4\">\n<li>通过运行以下命令查看 Go 版本，正常输出则说明安装成功：</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">go version</span><br></pre></td></tr></table></figure>\n<h2 id=\"3、安装hugo\">3、安装Hugo<a title=\"#3、安装hugo\" href=\"#3、安装hugo\"></a></h2>\n<ol>\n<li>通过运行以下命令添加 epel repo：</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim /etc/yum.repos.d/hugo.repo</span><br></pre></td></tr></table></figure>\n<p>上面的命令会在 /etc/yum.repos.d/ 目录下创建一个名为 hugo.repo 的文件。</p>\n<p>再将下面的内容复制进去：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[daftaupe-hugo]</span><br><span class=\"line\">name=Copr repo for hugo owned by daftaupe</span><br><span class=\"line\">baseurl=https://copr-be.cloud.fedoraproject.org/results/daftaupe/hugo/epel-7-$basearch/</span><br><span class=\"line\">type=rpm-md</span><br><span class=\"line\">skip_if_unavailable=True</span><br><span class=\"line\">gpgcheck=1</span><br><span class=\"line\">gpgkey=https://copr-be.cloud.fedoraproject.org/results/daftaupe/hugo/pubkey.gpg</span><br><span class=\"line\">repo_gpgcheck=0</span><br><span class=\"line\">enabled=1</span><br></pre></td></tr></table></figure>\n<p>然后【Esc】退出编辑模式，输入 “:wq” 保存并退出。</p>\n<ol start=\"2\">\n<li>通过运行以下命令安装 hugo：</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum -y install hugo</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>通过运行以下命令查看 Hugo 版本，正常输出则说明安装成功：</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hugo version</span><br></pre></td></tr></table></figure>\n<h2 id=\"4、用hugo建站\">4、用Hugo建站<a title=\"#4、用hugo建站\" href=\"#4、用hugo建站\"></a></h2>\n<ol>\n<li>生成站点</li>\n</ol>\n<p>使用Hugo快速生成站点，比如希望生成到 <code>/path/to/site</code> 路径：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hugo new site /path/to/site</span><br></pre></td></tr></table></figure>\n<p>这样就在 <code>/path/to/site</code> 目录里生成了初始站点，进去目录：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd /path/to/site</span><br></pre></td></tr></table></figure>\n<p>站点目录结构：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">▸ archetypes/</span><br><span class=\"line\">▸ content/</span><br><span class=\"line\">▸ layouts/</span><br><span class=\"line\">▸ static/</span><br><span class=\"line\">  config.toml</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>创建文章</li>\n</ol>\n<p>创建一个 about 页面：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hugo new about.md</span><br></pre></td></tr></table></figure>\n<p><a href=\"http://about.md\">about.md</a> 自动生成到了 content/about.md 目录下，用 VIM 打开 <a href=\"http://about.md\">about.md</a>：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">title: &quot;About&quot;</span><br><span class=\"line\">date: 2023-04-08T20:35:30+08:00</span><br><span class=\"line\">draft: true</span><br><span class=\"line\">---</span><br><span class=\"line\"></span><br><span class=\"line\">[正文内容]</span><br></pre></td></tr></table></figure>\n<p>正文内容是 Markdown 格式的，<code>---</code> 之间的内容是文章的标题、日期、封面等信息，可以自定义增加或者删除。</p>\n<p>创建第一篇文章，放到 post 目录，方便之后生成聚合页面。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hugo new post/first.md</span><br></pre></td></tr></table></figure>\n<p>打开这篇文章，随便写点什么：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">title: &quot;First&quot;</span><br><span class=\"line\">date: 2023-04-08T20:41:16+08:00</span><br><span class=\"line\">draft: true</span><br><span class=\"line\">---</span><br><span class=\"line\"></span><br><span class=\"line\"># Hello Hugo!</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>安装皮肤</li>\n</ol>\n<blockquote>\n<p>不同 Hugo 皮肤操作可能不同，以皮肤说明文档为基准。</p>\n</blockquote>\n<p>到 <a href=\"https://www.gohugo.org/theme/\" target=\"_blank\">皮肤列表</a> 挑选一个心仪的皮肤，比如你觉得 NeXT 皮肤不错，点击【HOMEPAGE】进入 Github 页面，然后通过运行以下命令将其克隆到 themes 目录里：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone https://github.com/leopku/hugo-theme-next.git themes/next</span><br></pre></td></tr></table></figure>\n<ol start=\"4\">\n<li>运行Hugo</li>\n</ol>\n<p>站点根目录执行 Hugo 命令进行调试：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hugo server --theme=hyde --buildDrafts</span><br></pre></td></tr></table></figure>\n<p>浏览器里打开： <a href=\"http://localhost:1313\" target=\"_blank\">http://localhost:1313</a></p>\n<ol start=\"5\">\n<li>部署</li>\n</ol>\n<p>假设你需要部署在 GitHubPages 上，首先在GitHub上创建一个Repository，命名为：<a href=\"http://username.github.io\">username.github.io</a> （username为你的github用户名）。</p>\n<p>在站点根目录执行 Hugo 命令生成最终页面：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hugo --theme=hyde --baseUrl=&quot;http://username.github.io/&quot;</span><br></pre></td></tr></table></figure>\n<p>（注意，以上命令并不会生成草稿页面，如果未生成任何文章，请去掉文章头部的 “draft=true” 再重新生成。）</p>\n<p>如果一切顺利，所有静态页面都会生成到 public 目录，将 pubilc 目录里所有文件 push 到刚创建的 Repository 的 master 分支。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ cd public</span><br><span class=\"line\">$ git init</span><br><span class=\"line\">$ git remote add origin https://github.com/username/username.github.io.git</span><br><span class=\"line\">$ git add -A</span><br><span class=\"line\">$ git commit -m &quot;first commit&quot;</span><br><span class=\"line\">$ git push -u origin master</span><br></pre></td></tr></table></figure>\n<p>浏览器里访问：<a href=\"http://username.github.io/\" target=\"_blank\">http://username.github.io/</a></p>\n","prev":{"title":"CentOS7开放端口及查看端口开放","link":"posts/centos&firewalld"},"next":{"title":"CentOS & WordPress","link":"posts/centos&wordpress"},"plink":"https://hs-zhangsan.github.io/posts/hugo/","toc":[{"id":"hugo-&-centos-建站教程","title":"Hugo &amp; CentOS 建站教程","index":"1","children":[{"id":"0、步骤","title":"0、步骤","index":"1.1"},{"id":"1、安装git","title":"1、安装Git","index":"1.2"},{"id":"2、安装go","title":"2、安装Go","index":"1.3"},{"id":"3、安装hugo","title":"3、安装Hugo","index":"1.4"},{"id":"4、用hugo建站","title":"4、用Hugo建站","index":"1.5"}]}],"reward":true,"copyright":{"published":"April 8, 2023","updated":"April 11, 2023","author":"zhangsan","link":"<a href=\"https://hs-zhangsan.github.io/posts/hugo/\" title=\"Hugo & GithubPages.md\">https://hs-zhangsan.github.io/posts/hugo/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"},"reading_time":"1056 words in 7 min"}