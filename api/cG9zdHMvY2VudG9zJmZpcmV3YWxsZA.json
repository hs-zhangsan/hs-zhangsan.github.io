{"title":"CentOS7开放端口及查看端口开放","date":"2023-04-08T21:35:49.000Z","date_formatted":{"ll":"Apr 8, 2023","L":"04/08/2023","MM-DD":"04-08"},"link":"posts/centos&firewalld","comments":true,"tags":["linux"],"categories":["linux"],"updated":"2023-04-08T22:19:02.635Z","content":"<h1 id=\"防火墙\">防火墙<a title=\"#防火墙\" href=\"#防火墙\"></a></h1>\n<p>查看防火墙状态</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">firewall-cmd --state</span><br></pre></td></tr></table></figure>\n<p>打开防火墙</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl start firewalld.service</span><br></pre></td></tr></table></figure>\n<p>关闭防火墙（如果要开放的端口太多，嫌麻烦，可以关闭防火墙）</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl stop firewalld.service</span><br></pre></td></tr></table></figure>\n<p>重启防火墙</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl restart firewalld.service</span><br></pre></td></tr></table></figure>\n<h1 id=\"端口\">端口<a title=\"#端口\" href=\"#端口\"></a></h1>\n<p>查看防火墙所有开放的端口</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">firewall-cmd --zone=public --list-ports</span><br></pre></td></tr></table></figure>\n<p>查看监听的端口</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">netstat -ntlp\t#监听TCP端口</span><br><span class=\"line\">netstat -nulp\t#监听UDP端口</span><br></pre></td></tr></table></figure>\n<p>开放端口（注意更改协议和端口号就行）</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">firewall-cmd --zone=public --add-port=80/tcp --permanent\t#开放TCP80端口</span><br><span class=\"line\">firewall-cmd --zone=public --add-port=8090/tcp --permanent\t#开放TCP8090端口</span><br><span class=\"line\">firewall-cmd --zone=public --add-port=9595/udp --permanent\t#开放UDP9595端口</span><br></pre></td></tr></table></figure>\n<p>关闭端口（还是一样，更改协议和端口号就行）</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">firewall-cmd --zone=public --remove-port=80/tcp --permanent\t\t#关闭TCP80端口</span><br><span class=\"line\">firewall-cmd --zone=public --remove-port=8090/tcp --permanent\t#关闭TCP8090端口</span><br><span class=\"line\">firewall-cmd --zone=public --remove-port=9595/udp--permanent\t#关闭UDP9595端口</span><br></pre></td></tr></table></figure>\n<p>配置生效</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">firewall-cmd --reload   #配置立即生效</span><br></pre></td></tr></table></figure>","next":{"title":"Hugo & GithubPages.md","link":"posts/hugo"},"plink":"https://hs-zhangsan.github.io/posts/centos&firewalld/","toc":[{"id":"防火墙","title":"防火墙","index":"1"},{"id":"端口","title":"端口","index":"2"}],"reward":true,"copyright":{"published":"April 8, 2023","updated":"April 8, 2023","author":"zhangsan","link":"<a href=\"https://hs-zhangsan.github.io/posts/centos&firewalld/\" title=\"CentOS7开放端口及查看端口开放\">https://hs-zhangsan.github.io/posts/centos&firewalld/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"},"reading_time":"246 words in 2 min"}